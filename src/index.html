<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>GDQ OBS Viewports</title>
    <link rel="shortcut icon" href="#" />
    <link rel="stylesheet" type="text/css" href="joystick.css" />
    <style>
      :root {
        --joystick-width: 18vh;
      }
      body,
      html {
        height: 100%;
        margin: 0;
        font-family: Arial, Helvetica, sans-serif;
        font-size: 18px;
        color: #d8d8d8;
        overflow: hidden;
        cursor: default;
        user-select: none;
      }
      .obs-font {
        font-size: 12px;
      }
      body {
        background-color: #1f1e1f;
        display: flex;
        flex-direction: column;
      }
      img {
        image-rendering: pixelated;
      }
      #footer {
        background-color: #3a393a;
        height: 27px;
        border: 1px solid #1f1e1f;
        display: flex;
        align-items: center;
        overflow: hidden;
				padding-right: 5px;
				justify-content: flex-end;
      }
      #main {
        flex-grow: 1;
        position: relative;
      }
      #viewports {
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
      }
      #crop {
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
      }
      #warning {
        position: absolute;
        width: 100%;
        height: 100%;
        font-size: 4rem;
        color: white;
        text-align: center;
        background-color: #1c2b71;
        z-index: 1000;
      }
      #warning-msg {
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        position: absolute;
      }
      #viewports-list {
        display: flex;
        flex-grow: 1;
        flex-direction: column;
      }
      #add-source {
        background-color: #3a393a;
        box-shadow: 1px 1px 4px 0px #00000085;
        position: absolute;
        width: 182px;
        padding: 3px;
        top: 11px;
        right: 14px;
        z-index: 1;
      }
      #crop-grid {
        display: grid;
        flex-grow: 1;
        grid-template-rows: auto 1fr auto;
        grid-template-columns: auto 1fr auto;
        align-items: center;
        justify-items: center;
      }
      #primary-crop {
        grid-column: 2 / 3;
        grid-row: 2 / 3;
        justify-self: stretch;
        align-self: stretch;
      }
      #crop-frame {
        width: 100%;
        height: 100%;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        overflow: hidden;
        position: relative;
      }
      #crop-guide {
        position: absolute;
        background: repeating-linear-gradient(
          -45deg,
          rgba(255, 255, 255, 0.5),
          rgba(255, 255, 255, 0.5) 1rem,
          rgba(255, 255, 255, 0) 1rem,
          rgba(255, 255, 255, 0) 2rem
        );
        opacity: 0;
      }
      #crop-guide.left {
        border-right: 1px solid rgb(255, 255, 255);
        height: 100%;
        width: 50%;
        left: 0;
        top: 0;
      }
			#crop-guide.right {
        border-left: 1px solid rgb(255, 255, 255);
        height: 100%;
        width: 50%;
        right: 0;
        top: 0;
      }
			#crop-guide.top {
        border-bottom: 1px solid rgb(255, 255, 255);
        height: 50%;
        width: 100%;
        left: 0;
        top: 0;
      }
			#crop-guide.bottom {
        border-top: 1px solid rgb(255, 255, 255);
        height: 50%;
        width: 100%;
        left: 0;
        bottom: 0;
      }
      .hide {
        width: 0 !important;
        height: 0 !important;
        margin: 0 !important;
        border: 0 !important;
        padding: 0 !important;
        transform: translate(-300vw, -300vh) !important;
        opacity: 0;
      }
      .selection {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-around;
        margin: 4px;
        margin-bottom: 10px;
				align-items: center;
      }
      .selection-item {
        background-color: #4c4c4c;
        border-radius: 3px;
        padding: 7px;
        padding-top: 4px;
        padding-bottom: 3px;
        margin: 1px;
      }
      .selected {
        background-color: #7a797a;
      }
      .viewport-header {
        background-color: #3a393a;
        height: 27px;
        border: 1px solid #1f1e1f;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding-left: 5px;
        position: relative;
      }
      .viewport-sources {
        flex-grow: 1;
      }
      .source {
        height: 17px;
        margin: 1px;
        position: relative;
        font-size: 12px;
      }
      .icon {
        width: 16px;
        margin-right: 5px;
      }
      .crop-icon {
        width: 22px;
        background-color: #4c4c4c;
        border-radius: 3px;
        padding: 2px;
        margin: 1px;
      }
      .crop-direction {
        display: flex;
      }
      .source-text {
        margin-left: -2px;
        display: inline-block;
        position: absolute;
        top: 2px;
      }
    </style>
  </head>
  <body>
    <div id="main">
      <div id="viewports">
        <div id="feed-select" class="selection"></div>
        <div id="viewports-list"></div>
      </div>
      <div id="crop" class="hide">
        <div id="autocrop" class="selection">
					Stream crop: 
          <div id="camera-crop" class="selection-item">Camera</div>
          <div id="game1-crop" class="selection-item">Game 1</div>
          <div id="game2-crop" class="selection-item">Game 2</div>
        </div>
        <div id="crop-grid">
          <div
            id="top-crop"
            style="
              grid-column: 2 / 3;
              grid-row: 1 / 2;
              transform: rotate(180deg);
            "
            class="crop-direction"
          >
            <div class="base hide">
              <div class="plus">+</div>
              <div class="minus">–</div>
              <div class="track"></div>
              <div class="handle"></div>
            </div>
            <img src="assets/crop_left.svg" class="crop-icon" />
          </div>
          <div
            id="left-crop"
            style="
              grid-column: 1 / 2;
              grid-row: 2 / 3;
              transform: rotate(90deg);
            "
            class="crop-direction"
          >
            <div class="base hide">
              <div class="plus">+</div>
              <div class="minus">–</div>
              <div class="track"></div>
              <div class="handle"></div>
            </div>
            <img src="assets/crop_left.svg" class="crop-icon" />
          </div>
          <div
            id="right-crop"
            style="
              grid-column: 3 / 4;
              grid-row: 2 / 3;
              transform: rotate(270deg);
            "
            class="crop-direction"
          >
            <div class="base hide">
              <div class="plus">+</div>
              <div class="minus">–</div>
              <div class="track"></div>
              <div class="handle"></div>
            </div>
            <img src="assets/crop_left.svg" class="crop-icon" />
          </div>
          <div
            id="bottom-crop"
            style="grid-column: 2 / 3; grid-row: 3 / 4; transform: rotate(0deg)"
            class="crop-direction"
          >
            <div class="base hide">
              <div class="plus">+</div>
              <div class="minus">–</div>
              <div class="track"></div>
              <div class="handle"></div>
            </div>
            <img src="assets/crop_left.svg" class="crop-icon" />
          </div>
          <div id="primary-crop">
            <div id="crop-frame">
              <img id="crop-image" crossorigin="use-credentials" />
              <div id="crop-guide" class="left"></div>
            </div>
          </div>
        </div>
      </div>
      <div id="warning">
        <div id="warning-msg">Loading...</div>
      </div>
    </div>
    <div id="footer"></div>
  </body>
  <script src="bundle.js"></script>
</html>
